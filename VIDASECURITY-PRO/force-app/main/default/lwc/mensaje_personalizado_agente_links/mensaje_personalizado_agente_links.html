<!--
  @description       :
  @author            : Juan Espinoza Le贸n
  @group             :
  @last modified on  : 06-06-2022
  @last modified by  : Juan Espinoza Le贸n
-->
<template>
  <div class="slds-card homeAssistant">
    <div class="slds-page-header">
        <header class="header-title-container slds-has-flexi-truncate" id="modal-principal-id-1">
            <!-- <div class="slds-text-heading_small" style="font-weight: bold;">Campos personalizados</div> -->
            <h3 class="slds-text-heading_small">
                <lightning-icon icon-name="custom:custom112" size="small"></lightning-icon> <strong>   Mensaje a Agente</strong>
                </h3>
        </header>
    </div>
    <div class="slds-card__body slds-card__body_inner"  >

        <div class="slds-grid" if:false={modo_edit}>

            <div class="slds-col slds-size_1-of-1" style="text-align: right;">
                <lightning-button
                name="fields_edit"
                label="Editar Mensaje a Agente"
                onclick={to_modo_edit}
            >
            </lightning-button>
            </div>
        </div>



        <!-- <template if:true={modo_edit}>

          <template if:true={showLoading}>
            <lightning-spinner alternative-text="Loading" size="medium" class="spinnerClass"></lightning-spinner>
        </template>
        <lightning-record-edit-form record-id={recordId} object-api-name="Opportunity">
          <h3 class="slds-section__title">
              <button class="slds-button slds-section__title-action" onclick={handleClick_informacionPersonalProspecto}>
                  <lightning-icon
                      icon-name="utility:switch"
                      class="slds-button__icon slds-button__icon_left slds-section__title-action-icon"
                      size="x-small"
                  ></lightning-icon>
                  <span class="slds-truncate" title="Informaci贸n Personal Prospecto">Informaci贸n Personal Prospecto</span>
              </button>
          </h3>
          <div class="slds-section__content">
          <slot>
          <div class="slds-form__row">
              <div class="slds-form__item" role="listitem">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly  slds-form-element_horizontal slds-form-element_stacked slds-hint-parent">
                  <span class="slds-form-element__label">Titulo Nota a Agente</span>
                  <div class="slds-form-element__control">
                  <div class="slds-form-element__static">
                      <lightning-input-field variant="label-hidden"  value={titulo_nota_agente} onchange={handle_titulo_nota_agente}
                      field-name="Titulo_Nota_a_Agente__c"></lightning-input-field>
                  </div>
                  </div>
              </div>
              </div>
              <div class="slds-form__item" role="listitem">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly  slds-form-element_horizontal slds-form-element_stacked slds-hint-parent">
                  <span class="slds-form-element__label">Nota a Agente</span>
                  <div class="slds-form-element__control">
                  <div class="slds-form-element__static">
                      <lightning-input-field  variant="label-hidden"  value={nota_agente} onchange={handle_nota_agente}
                      field-name="Nota_a_Agente__c"></lightning-input-field>
                  </div>
                  </div>
              </div>
              </div>
          </div>
          </slot>
          </div>



        <div class="slds-docked-form-footer stickyFooter bottomfooter">

          <lightning-button label="Cancelar" variant="neutral" onclick={handleClick_ver}></lightning-button>&nbsp;&nbsp;
          <lightning-button label="Guardar" variant="brand" onclick={handleClick_save}></lightning-button>
        </div>

      </lightning-record-edit-form>

      </template> -->
      <template if:true={modo_edit}>
          <div class="slds-form" role="list" style="margin-left: 10px;">
              <template if:true={showLoading}>
                <lightning-spinner alternative-text="Loading" size="medium" class="spinnerClass"></lightning-spinner>
            </template>
              <lightning-record-edit-form record-id={recordId} object-api-name="Opportunity">
                <lightning-messages></lightning-messages>
                <div class="slds-grid slds-m-bottom_xxx-small">
                  <div class="slds-col slds-size_1-of-3">
                      <label class="slds-form-element__label" >Titulo Nota a Agente</label>
                  </div>
                  <div class="slds-col slds-size_2-of-3">
                     <lightning-input type="text"  variant="label-hidden" onchange={event_change_titulo_nota} field-name="Titulo_Nota_a_Agente__c" value={titulo_nota_agente}></lightning-input>
                  </div>
              </div>
              <div class="slds-grid slds-m-bottom_xxx-small">
                  <div class="slds-col slds-size_1-of-3">
                      <label class="slds-form-element__label" >Nota a Agente</label>
                  </div>
                  <div class="slds-col slds-size_2-of-3">
                      <lightning-textarea variant="label-hidden"   onchange={event_change_nota} field-name="Nota_a_Agente__c"  value={nota_agente}></lightning-textarea>
                  </div>
              </div>
              </lightning-record-edit-form>
            </div>
        <br/>

            <div class="slds-grid" if:true={modo_edit}>
              <div class="slds-col slds-size_1-of-1" style="text-align: right;">
                  <lightning-button label="Cancelar" variant="neutral" onclick={to_modo_view}></lightning-button>&nbsp;&nbsp;&nbsp;
              <lightning-button label="Guardar" variant="brand" onclick={save_changes}></lightning-button>
              </div>

          </div>
      </template>

      <template if:false={modo_edit}>
        <div class="slds-form" role="list" style="margin-left: 10px;">
            <template if:true={showLoading}>
              <lightning-spinner alternative-text="Loading" size="medium" class="spinnerClass"></lightning-spinner>
          </template>
            <lightning-record-view-form record-id={recordId} object-api-name="Opportunity">
              <lightning-messages></lightning-messages>
              <div class="slds-grid slds-m-bottom_xxx-small">
                <div class="slds-col slds-size_1-of-3">
                    <label class="slds-form-element__label" >Titulo Nota a Agente</label>
                </div>
                <div class="slds-col slds-size_2-of-3">
                   <lightning-output-field  variant="label-hidden" field-name="Titulo_Nota_a_Agente__c" ></lightning-output-field>
                </div>
            </div>
            <div class="slds-grid slds-m-bottom_xxx-small">
                <div class="slds-col slds-size_1-of-3">
                    <label class="slds-form-element__label" >Nota a Agente</label>
                </div>
                <div class="slds-col slds-size_2-of-3">
                    <lightning-output-field variant="label-hidden"  field-name="Nota_a_Agente__c"  ></lightning-output-field>
                </div>
            </div>
            </lightning-record-view-form>
          </div>
    </template>
    </div>
  </div>
</template>